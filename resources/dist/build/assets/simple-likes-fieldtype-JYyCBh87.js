import{computed as $,resolveDirective as S,createElementBlock as s,openBlock as o,createElementVNode as e,withDirectives as f,createVNode as h,unref as v,toDisplayString as n,withCtx as x,createTextVNode as c,Fragment as u,renderList as C,createStaticVNode as T,createCommentVNode as P}from"vue";const{Fieldtype:L,IndexFieldtype:je,FieldtypeMixin:Ue,IndexFieldtypeMixin:Ve,DateFormatter:ze,ItemActions:qe,requireElevatedSession:Oe,requireElevatedSessionIf:We}=__STATAMIC__.core,{AuthCard:Ke,Avatar:Je,Badge:Qe,Button:Xe,ButtonGroup:Ye,Calendar:Ze,Card:et,CardList:tt,CardListItem:lt,CardPanel:st,CharacterCounter:ot,Checkbox:nt,CheckboxGroup:it,CodeEditor:rt,Combobox:at,CommandPaletteItem:dt,Context:ct,ContextFooter:ut,ContextItem:pt,ContextLabel:mt,ContextMenu:_t,ContextSeparator:ht,CreateForm:vt,DatePicker:kt,DateRangePicker:gt,Description:wt,DocsCallout:xt,DragHandle:yt,Dropdown:bt,DropdownItem:ft,DropdownLabel:Lt,DropdownMenu:Ct,DropdownSeparator:$t,DropdownFooter:St,DropdownHeader:Tt,Editable:Pt,ErrorMessage:Mt,EmptyStateItem:At,EmptyStateMenu:It,Field:Bt,Header:Dt,Heading:Ft,HoverCard:Et,Icon:Ht,Input:M,InputGroup:Rt,InputGroupAppend:Gt,InputGroupPrepend:Nt,Label:jt,Listing:Ut,ListingCustomizeColumns:Vt,ListingFilters:zt,ListingHeaderCell:qt,ListingPagination:Ot,ListingPresets:Wt,ListingPresetTrigger:Kt,ListingRowActions:Jt,ListingSearch:Qt,ListingTable:Xt,ListingTableBody:Yt,ListingTableHead:Zt,ListingToggleAll:el,LivePreview:tl,LivePreviewPopout:ll,Modal:sl,ModalClose:ol,ModalTitle:nl,Pagination:il,Panel:y,PanelFooter:rl,PanelHeader:al,Popover:dl,PublishComponents:cl,PublishContainer:ul,publishContextKey:pl,injectPublishContext:ml,PublishField:_l,PublishFields:hl,PublishFieldsProvider:vl,PublishForm:kl,PublishLocalizations:gl,PublishSections:wl,PublishTabs:xl,Radio:yl,RadioGroup:bl,Select:fl,Separator:Ll,Slider:Cl,Skeleton:$l,SplitterGroup:Sl,SplitterPanel:Tl,SplitterResizeHandle:Pl,StatusIndicator:Ml,Subheading:Al,Switch:Il,TabContent:Bl,Stack:Dl,Table:Fl,TableCell:El,TableColumn:Hl,TableColumns:Rl,TableRow:Gl,TableRows:Nl,TabList:jl,TabProvider:Ul,Tabs:Vl,TabTrigger:zl,Textarea:ql,TimePicker:Ol,ToggleGroup:Wl,ToggleItem:Kl,Widget:Jl,registerIconSet:Ql,registerIconSetFromStrings:Xl}=__STATAMIC__.ui,A={class:"simple-likes-fieldtype"},I={class:"flex items-center mb-3"},B={xmlns:"http://www.w3.org/2000/svg",class:"flex-shrink-0 w-6 h-6 mr-3 sl-color-red",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},D={class:"flex items-center text-sm"},F={xmlns:"http://www.w3.org/2000/svg",class:"flex-shrink-0 w-6 h-6 mr-3 sl-color-red",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},E={class:"font-medium"},H={class:"flex items-center text-sm",style:{"margin-top":"0.875rem"}},R={xmlns:"http://www.w3.org/2000/svg",class:"flex-shrink-0 w-6 h-6 mr-3 sl-color-red",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},G={class:"font-medium"},N={__name:"SimpleLikes",props:L.props,emits:L.emits,setup(r,{expose:p,emit:l}){const t=l,i=r,{expose:a,update:k}=L.use(t,i);p(a);const _=$(()=>{var d;return((d=i.meta)==null?void 0:d.realLikes)??0}),g=$(()=>(parseInt(i.value)||0)+_.value);function w(d){k(parseInt(d)||0)}return(d,m)=>{const b=S("tooltip");return o(),s("div",A,[e("div",I,[f((o(),s("svg",B,[...m[0]||(m[0]=[e("path",{d:"m14.479 19.374-.971.939a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5a5.2 5.2 0 0 1-.219 1.49"},null,-1),e("path",{d:"M15 15h6"},null,-1),e("path",{d:"M18 12v6"},null,-1)])])),[[b,"Boost Likes"]]),h(v(M),{"model-value":d.value,"onUpdate:modelValue":w,type:"text",pattern:"[0-9]*",placeholder:"0"},null,8,["model-value"])]),e("div",D,[f((o(),s("svg",F,[...m[1]||(m[1]=[e("path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5"},null,-1)])])),[[b,"Real Likes"]]),e("span",E,"Real: "+n(_.value),1)]),e("div",H,[f((o(),s("svg",R,[...m[2]||(m[2]=[e("path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5"},null,-1)])])),[[b,"Total Likes"]]),e("span",G,"Total: "+n(g.value),1)])])}}},j={class:"simple-likes-widget"},U={class:"data-table","data-table":""},V={class:"pe-2"},z={class:"sl-color-green sl-ml-1 pe-2"},q={class:"sl-color-orange sl-ml-1 pe-2"},O={class:"sl-color-blue sl-ml-1 pe-2"},W={class:"sl-color-purple sl-ml-1 pe-2"},K={class:"pe-2"},J={class:"pe-2"},Q={class:"pe-2"},X={__name:"SimpleLikesOverview",props:{overview:{type:Object,required:!0}},setup(r){return(p,l)=>(o(),s("div",j,[l[9]||(l[9]=e("h3",{class:"sl-title"},"Simple Likes Overview",-1)),h(v(y),null,{default:x(()=>{var t,i,a,k,_,g,w,d;return[e("table",U,[l[8]||(l[8]=e("thead",null,[e("tr",null,[e("th",null,"Metric"),e("th",null,"Count")])],-1)),e("tbody",null,[e("tr",null,[l[0]||(l[0]=e("td",null,[e("div",{class:"sl-flex sl-items-center sl-gap-2"},[e("svg",{fill:"currentColor",viewBox:"0 0 20 20",class:"sl-icon sl-color-red"},[e("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"})]),e("span",null,"Total Likes")])],-1)),e("td",null,[e("span",V,n(((t=r.overview.total_likes)==null?void 0:t.toLocaleString())??0),1)])]),e("tr",null,[l[1]||(l[1]=e("td",null,[e("div",{class:"sl-flex sl-items-center sl-gap-2"},[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1",class:"sl-icon sl-color-green"},[e("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e("circle",{cx:"12",cy:"7",r:"4"}),e("polyline",{points:"17,11 19,13 23,9"})]),e("span",null,"Real Interactions")])],-1)),e("td",null,[c(n(((i=r.overview.interactions_count)==null?void 0:i.toLocaleString())??0)+" ",1),e("span",z,"("+n(r.overview.interactions_percent??0)+"%)",1)])]),e("tr",null,[l[2]||(l[2]=e("td",null,[e("div",{class:"sl-flex sl-items-center sl-gap-2"},[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1",class:"sl-icon sl-color-orange"},[e("path",{d:"m12 14 4-4"}),e("path",{d:"M3.34 19a10 10 0 1 1 17.32 0"})]),e("span",null,"Boost Count")])],-1)),e("td",null,[c(n(((a=r.overview.preset_count)==null?void 0:a.toLocaleString())??0)+" ",1),e("span",q,"("+n(r.overview.preset_percent??0)+"%)",1)])]),e("tr",null,[l[3]||(l[3]=e("td",null,[e("div",{class:"sl-flex sl-items-center sl-gap-2"},[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1",class:"sl-icon sl-color-blue"},[e("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e("circle",{cx:"12",cy:"7",r:"4"})]),e("span",null,"User Likes")])],-1)),e("td",null,[c(n(((k=r.overview.member_likes)==null?void 0:k.toLocaleString())??0)+" ",1),e("span",O,"("+n(r.overview.member_percent??0)+"%)",1)])]),e("tr",null,[l[4]||(l[4]=e("td",null,[e("div",{class:"sl-flex sl-items-center sl-gap-2"},[e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1",class:"sl-icon sl-color-purple"},[e("path",{d:"M2 20v-10c0-4.5 4.5-9 10-9s10 4.5 10 9v10l-2 2-2-2-2 2-2-2-2 2-2-2-2 2-2-2-2 2z"}),e("circle",{cx:"8",cy:"11",r:"1"}),e("circle",{cx:"16",cy:"11",r:"1"})]),e("span",null,"Anonymous Likes")])],-1)),e("td",null,[c(n(((_=r.overview.anonymous_likes)==null?void 0:_.toLocaleString())??0)+" ",1),e("span",W,"("+n(r.overview.anonymous_percent??0)+"%)",1)])]),e("tr",null,[l[5]||(l[5]=e("td",null,[e("div",{class:"sl-flex sl-items-center sl-gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round",class:"sl-icon"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polyline",{points:"12,6 12,12 16,14"})]),e("span",null,"Today")])],-1)),e("td",null,[e("span",K,n(((g=r.overview.today_likes)==null?void 0:g.toLocaleString())??0),1)])]),e("tr",null,[l[6]||(l[6]=e("td",null,[e("div",{class:"sl-flex sl-items-center sl-gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round",class:"sl-icon"},[e("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]),e("span",null,"This Week")])],-1)),e("td",null,[e("span",J,n(((w=r.overview.week_likes)==null?void 0:w.toLocaleString())??0),1)])]),e("tr",null,[l[7]||(l[7]=e("td",null,[e("div",{class:"sl-flex sl-items-center sl-gap-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round",class:"sl-icon"},[e("path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z"}),e("path",{d:"M14 2v5a1 1 0 0 0 1 1h5"}),e("path",{d:"M10 9H8"}),e("path",{d:"M16 13H8"}),e("path",{d:"M16 17H8"})]),e("span",null,"Entries with Likes")])],-1)),e("td",null,[e("span",Q,n(((d=r.overview.total_entries)==null?void 0:d.toLocaleString())??0),1)])])])])]}),_:1})]))}},Y={class:"simple-likes-widget three-columns"},Z={class:"sl-title"},ee={key:0,class:"sl-empty"},te={key:1,class:"data-table","data-table":""},le=["href"],se={key:1},oe={class:"sl-flex sl-items-center sl-gap-2"},ne=["href"],ie=["src","alt"],re={key:1,class:"sl-avatar-initial"},ae=["src","alt"],de={key:1,class:"sl-avatar-initial"},ce=["href"],ue={key:3,class:"sl-hide-mobile"},pe={class:"sl-color-gray"},me={class:"pe-2"},_e={__name:"SimpleLikesRecentActivity",props:{activities:{type:Array,required:!0},totalCount:{type:Number,default:0}},setup(r){function p(l){if(!l)return"";const t=new Date(l),a=Math.floor((new Date-t)/1e3);return a<60?"now":a<3600?Math.floor(a/60)+"m":a<86400?Math.floor(a/3600)+"h":Math.floor(a/86400)+"d"}return(l,t)=>(o(),s("div",Y,[e("h3",Z,"Recent Activity ("+n(r.totalCount)+" today)",1),h(v(y),null,{default:x(()=>[r.activities.length?(o(),s("table",te,[t[3]||(t[3]=e("thead",null,[e("tr",null,[e("th",null,"Entry"),e("th",null,"User"),e("th",null,"When")])],-1)),e("tbody",null,[(o(!0),s(u,null,C(r.activities,(i,a)=>(o(),s("tr",{key:a},[e("td",null,[i.entry_cp_url?(o(),s("a",{key:0,href:i.entry_cp_url},n(i.entry_title),9,le)):(o(),s("span",se,n(i.entry_title||"Unknown"),1))]),e("td",null,[e("div",oe,[i.user_type==="authenticated"?(o(),s(u,{key:0},[i.user_edit_url?(o(),s("a",{key:0,href:i.user_edit_url},[i.avatar_url?(o(),s("img",{key:0,src:i.avatar_url,alt:i.user_name,class:"sl-avatar"},null,8,ie)):(o(),s("span",re,n(i.avatar_initial),1))],8,ne)):(o(),s(u,{key:1},[i.avatar_url?(o(),s("img",{key:0,src:i.avatar_url,alt:i.user_name,class:"sl-avatar"},null,8,ae)):(o(),s("span",de,n(i.avatar_initial),1))],64)),i.user_edit_url?(o(),s("a",{key:2,href:i.user_edit_url,class:"sl-hide-mobile"},n(i.user_name),9,ce)):(o(),s("span",ue,n(i.user_name),1))],64)):(o(),s(u,{key:1},[t[0]||(t[0]=e("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1",class:"sl-icon sl-color-purple"},[e("path",{d:"M2 20v-10c0-4.5 4.5-9 10-9s10 4.5 10 9v10l-2 2-2-2-2 2-2-2-2 2-2-2-2 2-2-2-2 2z"}),e("circle",{cx:"8",cy:"11",r:"1"}),e("circle",{cx:"16",cy:"11",r:"1"})],-1)),t[1]||(t[1]=e("span",{class:"sl-color-gray sl-hide-mobile"},"Guest",-1))],64))])]),e("td",pe,[e("span",me,[c(n(p(i.created_at)),1),t[2]||(t[2]=e("span",{class:"sl-hide-mobile"}," ago",-1))])])]))),128))])])):(o(),s("div",ee," No activity in the last 24 hours "))]),_:1})]))}},he={class:"simple-likes-widget three-columns"},ve={key:0,class:"sl-empty"},ke={key:1,class:"data-table","data-table":""},ge=["href"],we={key:1},xe={class:"sl-color-gray sl-hide-mobile"},ye={class:"sl-pe-mobile"},be={key:0,class:"sl-ml-1 sl-color-gray pe-2 sl-hide-mobile"},fe={class:"sl-color-orange"},Le={class:"sl-color-blue"},Ce={class:"sl-color-purple"},$e={__name:"SimpleLikesPopularEntries",props:{entries:{type:Array,required:!0}},setup(r){return(p,l)=>(o(),s("div",he,[l[5]||(l[5]=T('<div class="sl-flex sl-items-center sl-mb-2"><h3 class="sl-title" style="margin-bottom:0;">Popular Entries <span class="sl-text-xs sl-color-gray sl-hide-mobile"> (<span class="sl-color-orange">Boosts</span> | <span class="sl-color-blue">Members</span> | <span class="sl-color-purple">Anonymous</span>) </span></h3></div>',1)),h(v(y),null,{default:x(()=>[r.entries.length?(o(),s("table",ke,[l[4]||(l[4]=e("thead",null,[e("tr",null,[e("th",null,"Entry"),e("th",{class:"sl-hide-mobile"},"Collection"),e("th",null,"Likes")])],-1)),e("tbody",null,[(o(!0),s(u,null,C(r.entries,(t,i)=>(o(),s("tr",{key:i},[e("td",null,[t.cp_url?(o(),s("a",{key:0,href:t.cp_url},n(t.title),9,ge)):(o(),s("span",we,n(t.title),1))]),e("td",xe,n(t.collection),1),e("td",null,[e("span",ye,n(t.total_likes),1),t.preset_count>0||t.member_likes>0||t.anonymous_likes>0?(o(),s("span",be,[l[0]||(l[0]=c(" (",-1)),e("span",fe,n(t.preset_count),1),l[1]||(l[1]=c(" | ",-1)),e("span",Le,n(t.member_likes),1),l[2]||(l[2]=c(" | ",-1)),e("span",Ce,n(t.anonymous_likes),1),l[3]||(l[3]=c(") ",-1))])):P("",!0)])]))),128))])])):(o(),s("div",ve," No entries with likes yet "))]),_:1})]))}},Se={class:"simple-likes-widget"},Te={key:0,class:"sl-empty"},Pe={key:1,class:"data-table","data-table":""},Me={class:"sl-flex sl-items-center sl-gap-2"},Ae=["href"],Ie=["src","alt"],Be={key:1,class:"sl-avatar-initial"},De=["src","alt"],Fe={key:1,class:"sl-avatar-initial"},Ee=["href"],He={key:3},Re={class:"pe-2"},Ge={__name:"SimpleLikesTopUsers",props:{users:{type:Array,required:!0}},setup(r){return(p,l)=>(o(),s("div",Se,[l[1]||(l[1]=e("h3",{class:"sl-title"},"Top Users",-1)),h(v(y),null,{default:x(()=>[r.users.length?(o(),s("table",Pe,[l[0]||(l[0]=e("thead",null,[e("tr",null,[e("th",null,"User"),e("th",null,"Likes")])],-1)),e("tbody",null,[(o(!0),s(u,null,C(r.users,(t,i)=>(o(),s("tr",{key:i},[e("td",null,[e("div",Me,[t.edit_url&&t.can_view_users?(o(),s("a",{key:0,href:t.edit_url},[t.avatar_url?(o(),s("img",{key:0,src:t.avatar_url,alt:t.name,class:"sl-avatar"},null,8,Ie)):(o(),s("span",Be,n(t.avatar_initial),1))],8,Ae)):(o(),s(u,{key:1},[t.avatar_url?(o(),s("img",{key:0,src:t.avatar_url,alt:t.name,class:"sl-avatar"},null,8,De)):(o(),s("span",Fe,n(t.avatar_initial),1))],64)),t.edit_url&&t.can_view_users?(o(),s("a",{key:2,href:t.edit_url},n(t.name),9,Ee)):(o(),s("span",He,n(t.name),1))])]),e("td",null,[e("span",Re,n(t.likes_given),1)])]))),128))])])):(o(),s("div",Te," No user activity yet "))]),_:1})]))}};Statamic.booting(()=>{Statamic.$components.register("simple_likes-fieldtype",N),Statamic.$components.register("SimpleLikesOverview",X),Statamic.$components.register("SimpleLikesRecentActivity",_e),Statamic.$components.register("SimpleLikesPopularEntries",$e),Statamic.$components.register("SimpleLikesTopUsers",Ge)});
